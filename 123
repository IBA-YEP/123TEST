<style>
/* Generated by less 3.11.1 */
@font-face {
  font-family: 'GT Walsheim Pro';
  src: url('https://raw.githubusercontent.com/test1234687436/fonts/main/GTWalsheimPro-Bold.woff') format('woff'), url('https://raw.githubusercontent.com/test1234687436/fonts/main/GTWalsheimPro-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'GT Walsheim Pro';
  src: url('https://raw.githubusercontent.com/test1234687436/fonts/main/GTWalsheimPro-Medium.woff') format('woff'), url('https://raw.githubusercontent.com/test1234687436/fonts/main/GTWalsheimPro-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Gilroy';
  src: url('https://raw.githubusercontent.com/test1234687436/fonts/main/Gilroy-Regular.woff') format('woff'), url('https://raw.githubusercontent.com/test1234687436/fonts/main/Gilroy-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
  .Regular {
    font-family: 'Gilroy';
    font-weight: 400;
  }
  .Medium {
    font-family: 'GT Walsheim Pro';
    font-weight: 500;
  }
  .Bold {
    font-family: 'GT Walsheim Pro';
    font-weight: 700;
  }
  .pointer:hover {
    cursor: pointer;
  }
  .pointer:hover * {
    cursor: pointer;
  }
  .overflow {
    overflow: hidden;
    -webkit-mask-image: -webkit-radial-gradient(white, black);
  }
  .image-cover picture,
  .image-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    display: block;
  }
  .image-cover picture img,
  .image-cover img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    display: block;
  }
  .block {
    display: block;
    float: left;
  }
  .block100 {
    display: block;
    float: left;
    width: 100%;
  }
  .transition {
    transition: all 0.2s linear;
  }
  .hidden-scrollbar {
    -ms-overflow-style: none;
    overflow: -moz-scrollbars-none;
  }
  .hidden-scrollbar::-webkit-scrollbar {
    height: 0;
  }
  .hidden-scrollbar::-webkit-scrollbar {
    height: 0;
  }
  .gradient-text {
    background: var(--Gradient, linear-gradient(267deg, #2C14BC 45.28%, #7214BC 103.42%));
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
.Regular{font-family:'Gilroy';font-weight:400}.Medium{font-family:'GT Walsheim Pro';font-weight:500}.Bold{font-family:'GT Walsheim Pro';font-weight:700}.pointer:hover{cursor:pointer}.pointer:hover *{cursor:pointer}.overflow{overflow:hidden;-webkit-mask-image:-webkit-radial-gradient(white, black)}.image-cover picture,.image-cover img{width:100%;height:100%;object-fit:cover;object-position:center center;display:block}.image-cover picture img,.image-cover img img{width:100%;height:100%;object-fit:cover;object-position:center center;display:block}.block{display:block;float:left}.block100{display:block;float:left;width:100%}.transition{transition:all .2s linear}.hidden-scrollbar{-ms-overflow-style:none;overflow:-moz-scrollbars-none}.hidden-scrollbar::-webkit-scrollbar{height:0}.hidden-scrollbar::-webkit-scrollbar{height:0}.gradient-text{background:var(--Gradient, linear-gradient(267deg, #2C14BC 45.28%, #7214BC 103.42%));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}input::-webkit-input-placeholder{font-size:1em;color:#C0C0C0}input::-moz-placeholder{font-size:1em;color:#C0C0C0}input:-moz-placeholder{font-size:1em;color:#C0C0C0}input:-ms-input-placeholder{font-size:1em;color:#C0C0C0}textarea::-webkit-input-placeholder{font-size:1em;color:#C0C0C0}textarea::-moz-placeholder{font-size:1em;color:#C0C0C0}textarea:-moz-placeholder{font-size:1em;color:#C0C0C0}textarea:-ms-input-placeholder{font-size:1em;color:#C0C0C0}input::-webkit-input-placeholder{opacity:1;transition:opacity .3s ease;-o-transition:opacity .3s ease;-moz-transition:opacity .3s ease;-webkit-transition:opacity .3s ease;-ms-transition:opacity .3s ease}input::-moz-placeholder{opacity:1;transition:opacity .3s ease;-o-transition:opacity .3s ease;-moz-transition:opacity .3s ease;-webkit-transition:opacity .3s ease;-ms-transition:opacity .3s ease}input:-moz-placeholder{opacity:1;transition:opacity .3s ease;-o-transition:opacity .3s ease;-moz-transition:opacity .3s ease;-webkit-transition:opacity .3s ease;-ms-transition:opacity .3s ease}input:-ms-input-placeholder{opacity:1;transition:opacity .3s ease;-o-transition:opacity .3s ease;-moz-transition:opacity .3s ease;-webkit-transition:opacity .3s ease;-ms-transition:opacity .3s ease}*:hover{cursor:default}input{border-radius:0}input:focus{outline:0}input[type="text"],input[type="email"],input[type="password"],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;box-shadow:none}input[type="tel"]{-webkit-appearance:none}input[type=submit],button{-webkit-appearance:none}input[type=submit]:hover,button:hover{cursor:pointer}input:hover{cursor:text}textarea{border-radius:0}textarea:focus{outline:0}textarea:hover{cursor:text}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}html,body{-webkit-overflow-scrolling:touch !important}html.locked,body.locked{overflow:hidden}li,a{-webkit-tap-highlight-color:rgba(0,0,0,0)}b,strong{font-family:'GT Walsheim Pro';font-weight:700}.transition{transition:all .2s linear}
.divthatwontmesswithtilda{
    margin:0;padding:0;display:block;float:left;width:100%;
    
}
ul,ol,li,header,footer,section,nav,form,article,main,address{margin:0;padding:0;display:block;float:left;width:100%}*{box-sizing:border-box}a{text-decoration:none;color:inherit;transition:all .2s linear}a:focus{outline:0}a:active{outline:0}button{display:block;float:left;border:0;padding:0;transition:all .2s linear}button:focus{outline:0}button:active{outline:0}a:hover,button:hover{cursor:pointer}a:hover *,button:hover *{cursor:pointer}body{margin:0;padding:0;font-family:'GT Walsheim Pro';font-weight:500;font-size:16px;color:#001745;line-height:1.2;touch-action:pan-y}body.locked{overflow:hidden;touch-action:none;-ms-touch-action:none;-webkit-touch-action:none}body.pop-up-open{position:fixed;left:0;right:0}.container{background:#fff}.picture img{width:100%}.wrap{width:100%;max-width:1200px;float:none;margin:0 auto;position:relative;z-index:1}.wrap-inner{width:100%}.title{color:#001745;font-family:'GT Walsheim Pro';font-weight:700;font-size:32px;line-height:40px;text-transform:uppercase;max-width:794px}.promocode-block{position:relative;width:auto}.promocode-block.success .promocode-success{display:flex}.promocode-block.success .promocode-tooltip .promocode-submit{pointer-events:none;opacity:.32}.promocode-btn{width:auto;border-radius:20px;background:#EEF4FF;height:40px;display:flex;align-items:center;padding:0 20px;font-family:'GT Walsheim Pro';font-weight:500;font-size:20px;color:#1461FF}.promocode-tooltip{width:320px;padding:24px;border-radius:32px;border:1px solid rgba(51,51,51,0.08);background:#fff;box-shadow:0 8px 16px 0 rgba(51,51,51,0.08);position:absolute;left:50%;top:100%;transform:translateX(-50%);margin-top:8px;z-index:1;display:none;flex-direction:column;gap:24px}.promocode-tooltip .promocode-input{border:0;border-bottom:2px solid rgba(0,23,69,0.16);font-size:20px;font-family:'GT Walsheim Pro';font-weight:500;padding:8px 0}.promocode-tooltip .promocode-input:disabled{background:#fff;pointer-events:none}.promocode-tooltip .promocode-submit{height:48px;width:100%;border-radius:8px;background:#1461FF;border:0;font-size:20px;font-family:'GT Walsheim Pro';font-weight:500;text-transform:uppercase;color:#fff}.promocode-tooltip.error .promocode-input{border-color:rgba(235,0,0,0.24);color:#EB0000}.promocode-tooltip.error .error-text{color:rgba(235,0,0,0.48);position:absolute;top:17px;left:24px;width:auto;font-size:14px;font-family:'GT Walsheim Pro';font-weight:500}.promocode-success{border:1px solid rgba(51,51,51,0.08);height:40px;width:auto;border-radius:20px;background:#fff;color:#1461FF;font-size:20px;white-space:nowrap;z-index:1;display:flex;align-items:center;box-shadow:0 8px 16px 0 rgba(51,51,51,0.08);padding-left:48px;padding-right:20px}.promocode-success:before{left:4px;width:32px;height:32px;position:absolute;content:'';top:50%;margin-top:-16px;background:url("data:image/svg+xml,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2232%22%20height%3D%2232%22%20rx%3D%2216%22%20fill%3D%22%231461FF%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M23.6585%2010.2474C24.0742%2010.6111%2024.1163%2011.2429%2023.7526%2011.6585L15.0026%2021.6585C14.6403%2022.0726%2014.0114%2022.1162%2013.5955%2021.756L8.34546%2017.2106C7.92792%2016.8491%207.8825%2016.2175%208.244%2015.8C8.6055%2015.3825%209.23704%2015.337%209.65457%2015.6985L14.1525%2019.5929L22.2474%2010.3415C22.6111%209.92587%2023.2429%209.88375%2023.6585%2010.2474Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat;background-size:contain}.url-block{position:relative;width:auto}.url-btn{width:40px;height:40px;border-radius:50%;background:#EEF4FF;position:relative}.url-btn:before{width:24px;height:24px;background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDEzQzEwLjQyOTUgMTMuNTc0MSAxMC45Nzc0IDE0LjA0OTEgMTEuNjA2NiAxNC4zOTI5QzEyLjIzNTcgMTQuNzM2NyAxMi45MzE1IDE0Ljk0MTEgMTMuNjQ2NyAxNC45OTIzQzE0LjM2MTggMTUuMDQzNSAxNS4wNzk2IDE0Ljk0MDMgMTUuNzUxMyAxNC42ODk3QzE2LjQyMzEgMTQuNDM5MiAxNy4wMzMxIDE0LjA0NyAxNy41NCAxMy41NEwyMC41NCAxMC41NEMyMS40NTA4IDkuNTk2OTUgMjEuOTU0OCA4LjMzMzk0IDIxLjk0MzQgNy4wMjI5NkMyMS45MzIgNS43MTE5OCAyMS40MDYxIDQuNDU3OTEgMjAuNDc5MSAzLjUzMDg3QzE5LjU1MjEgMi42MDM4MyAxOC4yOTggMi4wNzc5OSAxNi45ODcgMi4wNjY2QzE1LjY3NiAyLjA1NTIgMTQuNDEzIDIuNTU5MTggMTMuNDcgMy40Njk5N0wxMS43NSA1LjE3OTk3IiBzdHJva2U9IiMxNDYxRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNCAxMUMxMy41NzA2IDEwLjQyNTkgMTMuMDIyNyA5Ljk1MDggMTIuMzkzNSA5LjYwNzA0QzExLjc2NDMgOS4yNjMyOCAxMS4wNjg1IDkuMDU4ODYgMTAuMzUzNCA5LjAwNzY1QzkuNjM4MjIgOC45NTY0MyA4LjkyMDQzIDkuMDU5NjEgOC4yNDg2NyA5LjMxMDJDNy41NzY5MSA5LjU2MDc5IDYuOTY2OSA5Ljk1MjkxIDYuNDYwMDIgMTAuNDZMMy40NjAwMiAxMy40NkMyLjU0OTIzIDE0LjQwMyAyLjA0NTI1IDE1LjY2NiAyLjA1NjY1IDE2Ljk3N0MyLjA2ODA0IDE4LjI4OCAyLjU5Mzg4IDE5LjU0MiAzLjUyMDkyIDIwLjQ2OTFDNC40NDc5NiAyMS4zOTYxIDUuNzAyMDMgMjEuOTIyIDcuMDEzMDEgMjEuOTMzNEM4LjMyMzk5IDIxLjk0NDcgOS41ODcwMSAyMS40NDA4IDEwLjUzIDIwLjUzTDEyLjI0IDE4LjgyIiBzdHJva2U9IiMxNDYxRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=") center center no-repeat;background-size:contain;position:absolute;content:'';transform:translate(-50%, -50%);top:50%;left:50%}.url-tooltip{width:auto;height:64px;border-radius:32px;border:1px solid rgba(51,51,51,0.08);background:#fff;box-shadow:0 8px 16px 0 rgba(51,51,51,0.08);top:100%;right:0;margin-top:8px;position:absolute;white-space:nowrap;padding:0 32px 0 60px;display:none;align-items:center;justify-content:center;font-size:20px}.url-tooltip:before{width:32px;height:32px;background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDEzQzEwLjQyOTUgMTMuNTc0MSAxMC45Nzc0IDE0LjA0OTEgMTEuNjA2NiAxNC4zOTI5QzEyLjIzNTcgMTQuNzM2NyAxMi45MzE1IDE0Ljk0MTEgMTMuNjQ2NyAxNC45OTIzQzE0LjM2MTggMTUuMDQzNSAxNS4wNzk2IDE0Ljk0MDMgMTUuNzUxMyAxNC42ODk3QzE2LjQyMzEgMTQuNDM5MiAxNy4wMzMxIDE0LjA0NyAxNy41NCAxMy41NEwyMC41NCAxMC41NEMyMS40NTA4IDkuNTk2OTUgMjEuOTU0OCA4LjMzMzk0IDIxLjk0MzQgNy4wMjI5NkMyMS45MzIgNS43MTE5OCAyMS40MDYxIDQuNDU3OTEgMjAuNDc5MSAzLjUzMDg3QzE5LjU1MjEgMi42MDM4MyAxOC4yOTggMi4wNzc5OSAxNi45ODcgMi4wNjY2QzE1LjY3NiAyLjA1NTIgMTQuNDEzIDIuNTU5MTggMTMuNDcgMy40Njk5N0wxMS43NSA1LjE3OTk3IiBzdHJva2U9IiMxNDYxRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNCAxMUMxMy41NzA2IDEwLjQyNTkgMTMuMDIyNyA5Ljk1MDggMTIuMzkzNSA5LjYwNzA0QzExLjc2NDMgOS4yNjMyOCAxMS4wNjg1IDkuMDU4ODYgMTAuMzUzNCA5LjAwNzY1QzkuNjM4MjIgOC45NTY0MyA4LjkyMDQzIDkuMDU5NjEgOC4yNDg2NyA5LjMxMDJDNy41NzY5MSA5LjU2MDc5IDYuOTY2OSA5Ljk1MjkxIDYuNDYwMDIgMTAuNDZMMy40NjAwMiAxMy40NkMyLjU0OTIzIDE0LjQwMyAyLjA0NTI1IDE1LjY2NiAyLjA1NjY1IDE2Ljk3N0MyLjA2ODA0IDE4LjI4OCAyLjU5Mzg4IDE5LjU0MiAzLjUyMDkyIDIwLjQ2OTFDNC40NDc5NiAyMS4zOTYxIDUuNzAyMDMgMjEuOTIyIDcuMDEzMDEgMjEuOTMzNEM4LjMyMzk5IDIxLjk0NDcgOS41ODcwMSAyMS40NDA4IDEwLjUzIDIwLjUzTDEyLjI0IDE4LjgyIiBzdHJva2U9IiMxNDYxRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=") center center no-repeat;background-size:contain;position:absolute;left:16px;top:50%;margin-top:-16px;content:''}.btn{width:auto;padding:0 40px;height:72px;border-radius:36px;background:#FF3374;display:flex;justify-content:center;align-items:center;font-size:20px;color:#fff;text-transform:uppercase;white-space:nowrap;font-family:'GT Walsheim Pro';font-weight:500}.btn.border-btn{border:2px solid rgba(255,51,116,0.24);background:#fff;color:#FF3374}.main{padding:48px 0}.main .wrap-inner{display:flex;flex-direction:column;align-items:flex-start;gap:32px}.main-toggle{display:flex;flex-direction:column;align-items:flex-start;gap:32px}.main-header{display:flex;justify-content:space-between;align-items:flex-start;gap:24px}.main-header .controls{width:auto;flex-shrink:0;display:flex;gap:16px}.main-tabs{display:flex;justify-content:space-between;align-items:center}.main-alphabet{margin-bottom:20px}.main-scale{padding:32px 0;position:relative}.main-scale-tooltip{line-height:24px;border-radius:12px;width:auto;position:absolute;padding:0 8px;white-space:nowrap;transition:all .3s linear}.main-scale-tooltip.min,.main-scale-tooltip.max{background:#F3F7FF;bottom:0;font-family:'GT Walsheim Pro';font-weight:500;color:#1461FF}.main-scale-tooltip.min{left:0}.main-scale-tooltip.max{right:0}.main-scale-tooltip.mobile{display:none}.main-scale-tooltip.current{background:#1461FF;color:#fff;top:0;left:0}.main-scale-tooltip.current:after{width:0;height:0;border:4px solid transparent;border-top-color:#1461FF;border-bottom:0;content:'';position:absolute;left:50%;top:100%;margin-left:-4px}.main-scale-tooltip.current.rightAlight{border-bottom-right-radius:0}.main-scale-tooltip.current.rightAlight:after{display:none}.main-footer{display:flex;gap:24px;align-items:center;justify-content:flex-start;padding:14px 0;margin-top:20px}.main-footnote{color:rgba(0,23,69,0.64);font-family:'Gilroy';font-weight:400}.tabs-container{border-radius:24px;background:#F3F7FF;height:48px;padding:4px;width:auto;display:flex}.tabs-container .tab{border-radius:20px;padding:0 20px;font-size:20px;font-family:'GT Walsheim Pro';font-weight:500;width:auto;white-space:nowrap;display:flex;align-items:center}.tabs-container .tab.current{background:#fff;color:#1461FF}.checkbox-cointainer{width:auto;display:flex;gap:22px}.checkbox-cointainer label{position:relative;padding-left:36px;line-height:24px;display:block;font-size:20px;font-family:'GT Walsheim Pro';font-weight:500}.checkbox-cointainer label:hover{cursor:pointer}.checkbox-cointainer label:hover *{cursor:pointer}.checkbox-cointainer label:before,.checkbox-cointainer label:after{width:24px;height:24px;border-radius:8px;content:'';left:0;top:0;position:absolute;box-sizing:border-box;transition:all .2s linear}.checkbox-cointainer label:before{border:2px solid rgba(255,51,116,0.48)}.checkbox-cointainer label:after{background:url("data:image/svg+xml,%3Csvg%20width%3D%2225%22%20height%3D%2224%22%20viewBox%3D%220%200%2025%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2224%22%20height%3D%2224%22%20transform%3D%22translate%280.75%29%22%20fill%3D%22%23FF3374%22%2F%3E%0A%3Cpath%20d%3D%22M7.75%2013.25L10.2485%2015.0822C10.6878%2015.4044%2010.9075%2015.5655%2011.1393%2015.6054C11.3433%2015.6406%2011.5532%2015.6116%2011.7401%2015.5224C11.9523%2015.421%2012.1201%2015.2063%2012.4555%2014.777L17.75%208%22%20stroke%3D%22white%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%2F%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat;background-size:contain;opacity:0}.checkbox-cointainer input{display:none}.checkbox-cointainer input:checked+label:after{opacity:1}.checkbox-cointainer.disabled{pointer-events:none}.checkbox-cointainer.disabled *{pointer-events:none}.alphabet-list{display:flex;gap:10px}.alphabet-list input{display:none}.alphabet-list-item{width:100%;height:76px;border-radius:16px;border:1px solid rgba(51,51,51,0.08);background:#FFF;box-shadow:0 4px 8px 0 rgba(51,51,51,0.08);display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:8px 0 12px;transition:all .2s linear}.alphabet-list-item:hover{cursor:pointer}.alphabet-list-item:hover *{cursor:pointer}.alphabet-list-item-letter{font-size:24px;color:rgba(46,0,15,0.72);font-family:'GT Walsheim Pro';font-weight:500}.alphabet-list-item-icon{width:24px;height:24px;position:relative}.alphabet-list-item-icon:before,.alphabet-list-item-icon:after{width:24px;height:24px;border-radius:8px;content:'';left:0;top:0;position:absolute;box-sizing:border-box}.alphabet-list-item-icon:before{border:2px solid rgba(255,51,116,0.48)}.alphabet-list-item-icon:after{background:url("data:image/svg+xml,%3Csvg%20width%3D%2225%22%20height%3D%2224%22%20viewBox%3D%220%200%2025%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2224%22%20height%3D%2224%22%20transform%3D%22translate%280.75%29%22%20fill%3D%22%23FF3374%22%2F%3E%0A%3Cpath%20d%3D%22M7.75%2013.25L10.2485%2015.0822C10.6878%2015.4044%2010.9075%2015.5655%2011.1393%2015.6054C11.3433%2015.6406%2011.5532%2015.6116%2011.7401%2015.5224C11.9523%2015.421%2012.1201%2015.2063%2012.4555%2014.777L17.75%208%22%20stroke%3D%22white%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%2F%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat;background-size:contain;opacity:0}.alphabet-list-item.disabled{pointer-events:none}.alphabet-list-item.disabled *{pointer-events:none}.alphabet-list input:checked+label{border-color:rgba(255,51,116,0.2);box-shadow:0 4px 8px 0 rgba(255,51,116,0.16)}.alphabet-list input:checked+label .alphabet-list-item-letter{color:#FF3374}.alphabet-list input:checked+label .alphabet-list-item-icon:after{opacity:1}.scale-list{display:flex;gap:4px}.scale-list-item{width:100%;height:8px;border-radius:4px;background:#1461FF;opacity:.24}.scale-list-item.active{opacity:1}.tariffs-list{display:grid;grid-template-columns:repeat(3, 1fr);grid-gap:40px}.tariffs-list input{display:none}.tariffs-list-item{border-radius:40px;border:2px solid #F3F7FF;background:#F3F7FF;display:flex;flex-direction:column;align-items:flex-start;gap:12px;padding:32px;position:relative}.tariffs-list-item-tag{line-height:24px;width:auto;padding:0 8px;font-size:16px;color:#fff;left:50%;transform:translateX(-50%);position:absolute;background:#1461FF;border-radius:12px;white-space:nowrap;display:flex;gap:5px}.tariffs-list-item-tag .timer{width:80px}.tariffs-list-item-tag.top-tag{top:-12px}.tariffs-list-item-tag.bottom-tag{bottom:-12px;background:#FF3374}.tariffs-list-item-label{height:32px;line-height:32px;position:absolute;top:30px;right:30px;border-radius:12px;width:auto;padding:0 36px 0 12px}.tariffs-list-item-label span{color:#FF3374;display:none}.tariffs-list-item-label:before,.tariffs-list-item-label:after{position:absolute;content:'';width:24px;height:24px;border-radius:8px;box-sizing:border-box;top:4px;right:4px}.tariffs-list-item-label:before{border:2px solid rgba(20,97,255,0.24);background:#FFF}.tariffs-list-item-label:after{background:url("data:image/svg+xml,%3Csvg%20width%3D%2225%22%20height%3D%2224%22%20viewBox%3D%220%200%2025%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2224%22%20height%3D%2224%22%20transform%3D%22translate%280.75%29%22%20fill%3D%22%23FF3374%22%2F%3E%0A%3Cpath%20d%3D%22M7.75%2013.25L10.2485%2015.0822C10.6878%2015.4044%2010.9075%2015.5655%2011.1393%2015.6054C11.3433%2015.6406%2011.5532%2015.6116%2011.7401%2015.5224C11.9523%2015.421%2012.1201%2015.2063%2012.4555%2014.777L17.75%208%22%20stroke%3D%22white%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%2F%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat;background-size:contain;opacity:0}.tariffs-list-item-count{font-size:24px;color:#001745}.tariffs-list-item-price{display:flex;gap:16px}.tariffs-list-item-price .cost{color:#1461FF;font-size:32px;line-height:40px;text-transform:uppercase;font-family:'GT Walsheim Pro';font-weight:500}.tariffs-list-item-price .cost.old-cost{color:rgba(0,23,69,0.4);position:relative}.tariffs-list-item-price .cost.old-cost:before{height:2px;width:100%;left:0;top:50%;content:'';position:absolute;background:rgba(0,23,69,0.4)}.tariffs-list-item-discount{line-height:40px;width:auto;padding:0 20px;background:#fff;color:#FF3374;font-size:20px;border-radius:20px}.tariffs-list-item-credit{position:absolute;left:50%;top:100%;transform:translateX(-50%);font-family:'Gilroy';font-weight:400;color:#001745;padding-left:24px;width:auto;white-space:nowrap;margin-top:10px}.tariffs-list-item-credit:before{width:20px;height:20px;position:absolute;content:'';top:50%;left:0;margin-top:-10px;background:url("data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M16.4226%203.57709C16.748%203.90252%2016.748%204.43016%2016.4226%204.7556L4.75592%2016.4223C4.43048%2016.7477%203.90284%2016.7477%203.57741%2016.4223C3.25197%2016.0968%203.25197%2015.5692%203.57741%2015.2438L15.2441%203.57709C15.5695%203.25165%2016.0971%203.25165%2016.4226%203.57709Z%22%20fill%3D%22%23001745%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M5.83333%204.16667C4.91286%204.16667%204.16667%204.91286%204.16667%205.83333C4.16667%206.75381%204.91286%207.5%205.83333%207.5C6.75381%207.5%207.5%206.75381%207.5%205.83333C7.5%204.91286%206.75381%204.16667%205.83333%204.16667ZM2.5%205.83333C2.5%203.99238%203.99238%202.5%205.83333%202.5C7.67428%202.5%209.16667%203.99238%209.16667%205.83333C9.16667%207.67428%207.67428%209.16667%205.83333%209.16667C3.99238%209.16667%202.5%207.67428%202.5%205.83333Z%22%20fill%3D%22%23001745%22%2F%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M14.1667%2012.4997C13.2462%2012.4997%2012.5%2013.2459%2012.5%2014.1663C12.5%2015.0868%2013.2462%2015.833%2014.1667%2015.833C15.0871%2015.833%2015.8333%2015.0868%2015.8333%2014.1663C15.8333%2013.2459%2015.0871%2012.4997%2014.1667%2012.4997ZM10.8333%2014.1663C10.8333%2012.3254%2012.3257%2010.833%2014.1667%2010.833C16.0076%2010.833%2017.5%2012.3254%2017.5%2014.1663C17.5%2016.0073%2016.0076%2017.4997%2014.1667%2017.4997C12.3257%2017.4997%2010.8333%2016.0073%2010.8333%2014.1663Z%22%20fill%3D%22%23001745%22%2F%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat;background-size:contain}.tariffs-list-item.large-margin-bottom .tariffs-list-item-credit{margin-top:20px}.tariffs-list-item.hit{background:#FFF7EC;border-color:#FFF7EC}.tariffs-list-item.hit .tariffs-list-item-label:before{border-color:rgba(255,175,54,0.64)}.tariffs-list-item.hit .tariffs-list-item-price .cost:not(.old-cost){color:#FFAF36}.tariffs-list-item.hit .tariffs-list-item-tag:not(.bottom-tag){background:#FFAF36}.tariffs-list input:checked+label{border-color:#1461FF}.tariffs-list input:checked+label .tariffs-list-item-label{background:#fff}.tariffs-list input:checked+label .tariffs-list-item-label span{display:block}.tariffs-list input:checked+label .tariffs-list-item-label:after{opacity:1}.tariffs-list input:checked+label.hit{border-color:#FFAF36}.credit-info{max-height:365px}.credit-info-text{font-family:'Gilroy';font-weight:400;line-height:24px}.credit-info .tag{height:17px;display:inline-block;margin:0 2px}.credit-info .tag img{height:24px;width:auto;display:block}.back-btn{color:#1461FF;font-size:20px}.pay-section{display:flex;position:fixed;background:#fff;top:0;left:0;height:100dvh;overflow:auto;z-index:1}.pay-section-left{width:50%;display:flex;flex-direction:column;align-items:flex-start;padding-right:40px}.pay-section-right{width:50%;padding-left:40px;background:#F3F7FF;min-height:100dvh}.pay-section-right .title,.pay-section-right .back-btn{display:none}.pay-options{max-width:540px;padding:8px 0}.pay-options-list{display:flex;flex-direction:column;gap:16px}.pay-options-list input{display:none}.pay-options-list-item{float:left;border-radius:36px;border:2px solid rgba(20,97,255,0.24);height:72px;width:100%;padding:0 32px;display:flex;justify-content:space-between;align-items:center;gap:20px}.pay-options-list-item:hover{cursor:pointer}.pay-options-list-item:hover *{cursor:pointer}.pay-options-list-item-title{font-size:20px;width:auto}.pay-options-list-item-logo{width:auto}.pay-options-list-item-logo img{height:100%;display:block}.pay-options-list-item-radio .checkbox-options{display:flex;gap:14px;align-items:center;justify-content:space-between}.pay-options-list-item-radio .checkbox-options input{display:none}.pay-options-list-item-radio .checkbox-options-label{padding-left:36px;position:relative}.pay-options-list-item-radio .checkbox-options-label:hover{cursor:pointer}.pay-options-list-item-radio .checkbox-options-label:hover *{cursor:pointer}.pay-options-list-item-radio .checkbox-options-label:before{width:24px;height:24px;border-radius:50%;border:2px solid #1461FF;box-sizing:border-box;content:'';position:absolute;left:0;top:50%;transform:translateY(-50%)}.pay-options-list-item-radio .checkbox-options-label-title{font-size:20px;line-height:24px}.pay-options-list-item-radio .checkbox-options-label-subtitle{font-size:14px;font-family:'Gilroy';font-weight:400;line-height:20px;white-space:nowrap}.pay-options-list-item-radio .checkbox-options input:checked+label:before{border-width:6px}.pay-options-list-item.cards .pay-options-list-item-logo{height:28px}.pay-options-list-item.yoomoney .pay-options-list-item-logo,.pay-options-list-item.robokassa .pay-options-list-item-logo{height:22px}.pay-options-list-item.tinkoff .pay-options-list-item-logo{height:40px}.pay-options-list-item.dolyame .pay-options-list-item-logo{height:16px}.pay-options-list input:checked+label{border-color:#1461FF}.order-info{padding-top:52px}.order-info-section{padding:32px 0;border-bottom:2px solid rgba(20,97,255,0.16)}.order-info-section-row{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.order-info-section-label{font-family:'Gilroy';font-weight:400;font-size:16px;line-height:24px}.order-info-section-label .br-mob{display:none}.order-info-section-value{font-size:20px;line-height:24px}.order-info-section-value mark{border-radius:24px;background:#FF3374;display:inline-block;padding:0 8px;border-radius:12px;color:#fff;font-size:16px}.order-info-section-value b{font-family:'GT Walsheim Pro';font-weight:500;color:#FF3374}.order-info-section-value.total-value{font-size:32px;color:#FF3374}.order-info-section.two-columns{display:grid;grid-template-columns:repeat(2, 1fr);grid-row-gap:32px}.order-info-section.two-columns .order-info-section-row:nth-child(odd){padding-right:14px}.order-info-section:last-child{border-bottom:0;padding-bottom:0}@media (hover:hover) and (min-width:1025px){.promocode-btn,.url-btn{transition:all .2s linear}.promocode-btn:hover,.url-btn:hover{cursor:pointer}.promocode-btn:hover *,.url-btn:hover *{cursor:pointer}.promocode-btn:hover,.url-btn:hover{background:#e0ecff}.tabs-container .tab{transition:all .2s linear}.tabs-container .tab:hover{cursor:pointer}.tabs-container .tab:hover *{cursor:pointer}.tabs-container .tab:hover{color:#1461FF}.tariffs-list-item{transition:all .2s linear}.tariffs-list-item:hover{cursor:pointer}.tariffs-list-item:hover *{cursor:pointer}.tariffs-list-item:hover{border-color:rgba(20,97,255,0.08);background:#EEF4FF}.tariffs-list-item.hit:hover{background:#ffeccf;border-color:#ffeccf}.btn:hover{background:#ff6d9c}.btn.border-btn:hover{background:#FF3374;color:#fff}.back-btn{transition:all .2s linear}.back-btn:hover{cursor:pointer}.back-btn:hover *{cursor:pointer}.back-btn:hover{color:#568dff}}@media screen and (min-width:1001px){.pay-section-left .wrap,.pay-section-right .wrap{margin:0}.pay-section-left .wrap-inner,.pay-section-right .wrap-inner{display:flex;flex-direction:column;align-items:flex-start;gap:24px;padding:48px 0}.pay-section-left{display:flex;flex-direction:row;justify-content:flex-end}.pay-section-left .wrap{width:540px}.pay-section-right .wrap{width:620px}}@media screen and (min-width:1001px) and (max-width:1240px){.pay-section-left .wrap{width:440px}.pay-section-right .wrap{width:440px}.pay-options-list-item.cards .pay-options-list-item-logo{height:23px}}@media screen and (max-width:1240px){.wrap{max-width:960px}.alphabet-list-item-letter{font-size:20px}.alphabet-list{gap:6px}.tariffs-list{grid-gap:20px}.tariffs-list-item{padding:20px}.tariffs-list-item-price .cost{font-size:26px}.tariffs-list-item-tag{font-size:12px}.tariffs-list-item-label{top:17px;right:17px}}@media screen and (max-width:1000px){.wrap{max-width:92vw;width:92vw}.main-alphabet{overflow:auto;-ms-overflow-style:none;overflow:-moz-scrollbars-none;padding-bottom:10px;padding-left:4vw;width:100vw;margin-left:-4vw;margin-bottom:0}.main-alphabet::-webkit-scrollbar{height:0}.main-alphabet::-webkit-scrollbar{height:0}.alphabet-list{float:left;width:auto;display:flex}.alphabet-list-item{width:48px;flex-shrink:0}.alphabet-list-item:last-of-type{margin-right:4vw}.tariffs-list{grid-template-columns:repeat(2, 1fr)}.main-footer{flex-direction:column;align-items:flex-start}.pay-section{flex-direction:column}.pay-section-right{width:100%;order:0;padding-left:0;padding-bottom:40px;padding-top:40px}.pay-section-right .title,.pay-section-right .back-btn{display:block}.pay-section-right .back-btn{margin-bottom:12px}.pay-section-left{width:100%;order:1;padding-right:0;padding-top:40px;padding-bottom:40px}.pay-section-left .back-btn,.pay-section-left .title{display:none}.pay-section-left .wrap-inner{display:flex;flex-direction:column}.pay-section-left .btn{max-width:540px}.order-info-section:first-child{padding-top:0}.order-info{padding-top:30px}.main-scale-tooltip.max,.main-scale-tooltip.min{display:none}.main-scale-tooltip.mobile{display:block;border-radius:12px;line-height:24px;padding:0 8px;color:#1461FF;bottom:0;left:50%;transform:translateX(-50%);white-space:nowrap;background:#F3F7FF}.checkbox-cointainer{flex-direction:column;gap:10px}.tariffs-list{grid-row-gap:60px}}@media screen and (max-width:760px){.main-header{flex-direction:column;gap:24px}.tabs-container .tab,.checkbox-cointainer label{font-size:18px}.scale-list{gap:2px}.tariffs-list{display:flex;flex-direction:column;gap:24px}.tariffs-list-item{gap:10px;padding:24px 20px;margin-bottom:38px}.tariffs-list-item-label{top:30px;right:30px}.tariffs-list-item-tag{font-size:16px}.btn{width:100%}.promocode-tooltip{left:0;transform:none}.url-block{position:static}.main-header .controls{position:relative}.url-tooltip{right:auto;left:0}}@media screen and (max-width:590px){.title{font-size:26px;line-height:32px}.main-tabs{flex-direction:column;align-items:flex-start;gap:20px}.tabs-container{width:100%}.tabs-container .tab{width:100%;text-align:center;justify-content:center}.alphabet-list-item{height:60px;padding:7px 0 10px}.alphabet-list-item-letter{font-size:16px}.alphabet-list{gap:4px}.alphabet-list-item-icon:before,.alphabet-list-item-icon:after{width:20px;height:20px;border-radius:6px}.alphabet-list-item-icon{width:20px;height:20px}.btn{height:56px;font-size:18px}.main .wrap-inner,.main-toggle{gap:24px}.promocode-btn{font-size:18px}.url-btn:before{width:20px;height:20px}.order-info-section.two-columns{grid-row-gap:25px}.pay-options-list-item{flex-direction:column;align-items:flex-start;justify-content:center;gap:6px;border-radius:24px;height:80px}.pay-options-list-item-title{font-size:18px}.pay-options-list-item.tinkoff{gap:2px}.pay-options-list-item.dolyame .pay-options-list-item-logo{height:14px}.pay-options-list-item.cards .pay-options-list-item-logo,.pay-options-list-item.yoomoney .pay-options-list-item-logo,.pay-options-list-item.robokassa .pay-options-list-item-logo{height:22px}.pay-options-list-item.tinkoff .pay-options-list-item-logo{height:30px}.pay-options-list-item-radio .checkbox-options{gap:25px}.pay-options-list-item-radio .checkbox-options-label{display:flex;flex-direction:column;align-items:flex-start}.pay-options-list-item-radio .checkbox-options-label-title{font-size:18px;line-height:20px;width:auto}.pay-options-list-item-radio .checkbox-options-label-subtitle{font-size:12px;line-height:14px;width:auto}.pay-options-list-item-radio .checkbox-options{justify-content:flex-start}}@media screen and (max-width:480px){.title{font-size:20px;line-height:24px}.main-header .controls{gap:8px}.promocode-btn{font-size:16px}.tabs-container .tab,.checkbox-cointainer label{font-size:16px}.checkbox-cointainer label:before,.checkbox-cointainer label:after{width:20px;height:20px;border-radius:6px}.checkbox-cointainer label{line-height:20px;padding-left:28px}.tariffs-list-item{border-radius:32px;padding:24px}.tariffs-list-item-count{font-size:20px;line-height:28px}.tariffs-list-item-price{gap:16px}.tariffs-list-item-price .cost{font-size:24px;line-height:32px}.tariffs-list-item-discount{line-height:32px;padding:0 16px;font-size:16px}.tariffs-list-item-label:before,.tariffs-list-item-label:after{width:20px;height:20px;border-radius:6px}.tariffs-list-item-label{height:28px;line-height:28px;font-size:16px;border-radius:10px;padding-right:33px;right:24px;top:24px}.main-footnote{font-size:14px;line-height:18px}.main{padding:32px 0}.main .wrap-inner,.main-toggle{gap:20px}.main-tariffs,.main-footnote{margin-top:10px}.main-footer{padding:6px 0;gap:18px;margin-top:0}.credit-info .tag{height:16px}.credit-info .tag img{height:22px}.pay-section-right .back-btn{font-size:16px}.order-info-section-label{font-size:14px;line-height:18px}.order-info-section-value{font-size:16px;line-height:20px}.order-info-section.two-columns{grid-row-gap:24px}.order-info-section-value mark{font-size:14px}.order-info-section{padding:24px 0}.order-info-section-value.total-value{font-size:24px}.order-info{padding-top:24px}.pay-section-right{padding-bottom:24px}.pay-section-left{padding-top:24px}.pay-options-list-item-title{font-size:16px}.pay-options-list-item{padding:0 24px}.pay-options-list{gap:12px}.pay-options-list-item.cards .pay-options-list-item-logo,.pay-options-list-item.yoomoney .pay-options-list-item-logo,.pay-options-list-item.robokassa .pay-options-list-item-logo{height:18px}.pay-options-list-item-radio .checkbox-options-label-title{font-size:16px}.pay-options{margin-bottom:16px}.promocode-success{font-size:16px;padding-left:42px;padding-right:16px}}@media screen and (max-width:400px){.credit-info-text{font-size:14px;line-height:20px}.credit-info .tag{height:14px}.credit-info .tag img{height:20px}.tabs-container .tab{padding:0 6px}.tariffs-list-item-tag{font-size:14px}.order-info-section-label .br-mob{display:inline}.tariffs-list-item-credit{font-size:14px;padding-left:22px}.tariffs-list-item-credit:before{width:18px;height:18px;margin-top:-9px}}@media screen and (max-width:350px){.promocode-tooltip{width:280px;padding:20px}.url-tooltip{width:280px;height:56px;font-size:18px}.promocode-tooltip.error .error-text{left:20px;top:13px}}

#rec716740783{
display:none;
}
</style>

<link rel="stylesheet" href="https://gistcdn.githack.com/mfd/09b70eb47474836f25a21660282ce0fd/raw/e06a670afcb2b861ed2ac4a1ef752d062ef6b46b/Gilroy.css">
<link rel="stylesheet" href="https://gistcdn.githack.com/mfd/7c7a915eb31474cc8c6a65066a4c4dc3/raw/f0f2fb94c21dea904812a53e0eb6cf0bc87f3754/GTWalsheimPro.css">
<script>

    const addToCartTrial = ()=>{
        if($('#checkbox-2')[0].checked){
            tcart__addProduct({
                "name": "Абонемент на 10 занятий | Билингвал",
                "price": 12450,
                "img": "",
                "recid": "716740783",
                "lid": "",
                "pack_label": "",
                "pack_m": "",
                "pack_x": "",
                "pack_y": "",
                "pack_z": "",
                "part_uids": [
                    ""
                ],
                "gen_uid": "",
                "url": "https://school.mylogoped.online/test1234#rec716740783",
                "quantity": 1,
                "amount": 12450,
                "ts": 1710149928
            });
        }else{
            tcart__addProduct({
                "name": "Абонемент на 10 занятий",
                "price": 11000,
                "img": "",
                "recid": "716740783",
                "lid": "",
                "pack_label": "",
                "pack_m": "",
                "pack_x": "",
                "pack_y": "",
                "pack_z": "",
                "part_uids": [
                    ""
                ],
                "gen_uid": "",
                "url": "https://school.mylogoped.online/test1234#rec716740783",
                "quantity": 1,
                "amount": 11000,
                "ts": 1710149928
            });
        }
    }
    
    const orderObject = {
        'min': 0,
        'middle': 0,
        'max': 0,
        'type': 'automation',
        'tariff': 0,
        'bilingual': true,
        'bonusLessons': 0,
        'profit': 0,
        'totalPrice': 0,
        'promocode': {
            'isActive': false,
            'code': null,
            'type': null,
            'value': null,
            'profit': 0
        }
    }
    
    const paybtn = ()=>{
        tcart__addProduct({
                "name": `Абонемент на ${orderObject.tariff} ${(orderObject.tariff < 2)? 'занятие': 'занятий'}${($('#checkbox-2')[0].checked) ? ' | Билингвал' : ''}`,
                "price": orderObject.totalPrice,
                "img": "",
                "recid": "716740783",
                "lid": "",
                "pack_label": "",
                "pack_m": "",
                "pack_x": "",
                "pack_y": "",
                "pack_z": "",
                "part_uids": [
                    ""
                ],
                "gen_uid": "",
                "url": "https://school.mylogoped.online/test1234#rec716740783",
                "quantity": 1,
                "amount": orderObject.totalPrice,
                "ts": 1710149928
            });
        
    };
    
    $(document).ready(function(){
    
    
    // check browser and OS
    var vendor = window.navigator.vendor,
        platform = window.navigator.platform,
        userAgent = window.navigator.userAgent;

    var browser;
    
    if (navigator.userAgent.search("OPR") >= 0) {
        browser = 'opera';
    } else if (navigator.userAgent.search("YaBrowser") >= 0) {
        browser = 'yandex';
    } else if (navigator.userAgent.search("Edg") >= 0) {
        browser = 'edge';
    } else if (navigator.userAgent.search("Chrome") >= 0) {
        browser = 'chrome';
    } else if (navigator.userAgent.search("Firefox") >= 0) {
        browser = 'firefox';
    } else if (navigator.userAgent.search("Trident") >= 0) {
        browser = 'ie';
    } else if (navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0) {
        browser = 'safari';
    }

    var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
        windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
        iosPlatforms = ['iPhone', 'iPad', 'iPod'];

    var os;

    if (macosPlatforms.indexOf(platform) !== -1) {
        os = 'mac';
    } else if (iosPlatforms.indexOf(platform) !== -1) {
        os = "ios";
    } else if (windowsPlatforms.indexOf(platform) !== -1) {
        os = 'windows';
    } else if (/Windows Phone/.test(userAgent)) {
        os = 'windows-phone';
    } else if (/Android/.test(userAgent)) {
        os = 'android';
    } else if (!os && /Linux/.test(platform)) {
        os = 'linux';
    }
    
    if (browser != undefined) {
        $('body').addClass(browser + '-browser')
    }
    
    if (os != undefined) {
        $('body').addClass(os + '-os')
    }
    // check browser and OS
    
    
    //fix css transition onload
    setTimeout(function(){
        $("body").removeClass("transition-none");
    }, 200);
    //fix css transition onload
    
    $('#js-promocode-btn').on('click', function(e){
        e.preventDefault()
        $(this).next().fadeToggle(100).css('display', 'flex')
        $('.promocode-input').focus()
    })
    
    $(document).mouseup(function (e){
        var div = $(".promocode-block");
        if (!div.is(e.target)
            && div.has(e.target).length === 0) {
                $('#js-promocode-tooltip').fadeOut(100)
        }
    });
    const promoArray = {
        'test1': {
            type: 'fix',
            value: 3000
        },
        'test2': {
            type: 'percent',
            value: 10
        },
        'test3': {
            type: 'lesson',
            value: 3
        }
    }
    
    const soundsStagingArray = {
        'В': {
            min: 0,
            middle: 0,
            max: 0
        },
        'Г': {
            min: 0,
            middle: 1,
            max: 2
        },
        'Гь': {
            min: 0,
            middle: 0,
            max: 0
        },
        'Д': {
            min: 0,
            middle: 1,
            max: 1
        },
        'Ж': {
            min: 0,
            middle: 1,
            max: 1
        },
        'З': {
            min: 0,
            middle: 1,
            max: 2
        },
        'Зь': {
            min: 0,
            middle: 1,
            max: 1
        },
        'К': {
            min: 1,
            middle: 4,
            max: 4
        },
        'Кь': {
            min: 0,
            middle: 0,
            max: 0
        },
        'Л': {
            min: 1,
            middle: 6,
            max: 7
        },
        'Ль': {
            min: 0,
            middle: 1,
            max: 1
        },
        'Р': {
            min: 2,
            middle: 10,
            max: 12
        },
        'Рь': {
            min: 0,
            middle: 6,
            max: 7
        },
        'С': {
            min: 1,
            middle: 7,
            max: 8
        },
        'Сь': {
            min: 0,
            middle: 1,
            max: 2
        },
        'Т': {
            min: 0,
            middle: 1,
            max: 1
        },
        'Ц': {
            min: 0,
            middle: 2,
            max: 3
        },
        'Ч': {
            min: 0,
            middle: 1,
            max: 1
        },
        'Ш': {
            min: 1,
            middle: 4,
            max: 5
        },
        'Щ': {
            min: 0,
            middle: 1,
            max: 1
        }
    }
    
    const pricesArray = {
        10: {
        'cost': 11000,
        'bilingual': 12450,
        'oldCost': 18000,
        'installments': [10, 12]
    },
    15: {
        'cost': 15750,
        'bilingual': 17400,
        'oldCost': 30000,
        'installments': null
    },
    25: {
        'cost': 25000,
        'bilingual': 26500,
        'oldCost': 52500,
        'installments': [10, 12]
    },
    50: {
        'cost': 45000,
        'bilingual': 48500,
        'oldCost': 90000,
        'installments': [10, 12]
    },
    65: {
        'cost': 53300,
        'bilingual': 57500,
        'oldCost': 112500,
        'installments': [20, 12]
    },
    80: {
        'cost': 62400,
        'bilingual': 67000,
        'oldCost': 135000,
        'installments': [10, 13]
    },
    100: {
        'cost': 72000,
        'bilingual': 77500,
        'oldCost': 165000,
        'installments': [10, 10]
        }
    }
    
    const soundsAutomationArray = {
        'В': {
            min: 1,
            middle: 2,
            max: 3
        },
        'Г': {
            min: 4,
            middle: 5,
            max: 5
        },
        'Гь': {
            min: 1,
            middle: 1,
            max: 1
        },
        'Д': {
            min: 2,
            middle: 6,
            max: 10
        },
        'Ж': {
            min: 3,
            middle: 7,
            max: 9
        },
        'З': {
            min: 2,
            middle: 7,
            max: 10
        },
        'Зь': {
            min: 1,
            middle: 5,
            max: 6
        },
        'К': {
            min: 7,
            middle: 12,
            max: 14
        },
        'Кь': {
            min: 4,
            middle: 4,
            max: 4
        },
        'Л': {
            min: 8,
            middle: 16,
            max: 20
        },
        'Ль': {
            min: 2,
            middle: 6,
            max: 10
        },
        'Р': {
            min: 12,
            middle: 25,
            max: 29
        },
        'Рь': {
            min: 2,
            middle: 14,
            max: 16
        },
        'С': {
            min: 6,
            middle: 19,
            max: 21
        },
        'Сь': {
            min: 2,
            middle: 6,
            max: 9
        },
        'Т': {
            min: 2,
            middle: 9,
            max: 12
        },
        'Ц': {
            min: 3,
            middle: 9,
            max: 13
        },
        'Ч': {
            min: 2,
            middle: 6,
            max: 10
        },
        'Ш': {
            min: 8,
            middle: 13,
            max: 17
        },
        'Щ': {
            min: 1,
            middle: 5,
            max: 7
        }
    }
    
    
    
    const creditPeriod = 5 // месяцев
    
    function getTimeRemaining(endtime) {
      var t = Date.parse(endtime) - Date.parse(new Date());
      var seconds = Math.floor((t / 1000) % 60);
      var minutes = Math.floor((t / 1000 / 60) % 60);
      var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
      var days = Math.floor(t / (1000 * 60 * 60 * 24));
      return {
        'total': t,
        'days': days,
        'hours': hours,
        'minutes': minutes,
        'seconds': seconds
      };
    }

    function initializeClock(className, endtime) {
        $('.' + className).each(function(){
            var clock = $(this);
              var hoursSpan = clock.children('.hours');
              var minutesSpan = clock.children('.minutes');
              var secondsSpan = clock.children('.seconds');

              function updateClock() {
                var t = getTimeRemaining(endtime);

                hoursSpan.html(('0' + t.hours).slice(-2));
                minutesSpan.html(('0' + t.minutes).slice(-2));
                secondsSpan.html(('0' + t.seconds).slice(-2));

                if (t.total <= 0) {
                  clearInterval(timeinterval);
                    orderObject.bonusLessons = 0
                    $(this).remove()
                    $('.js-bonus-text').remove()
                    $('.tariffs-list-item.item2').removeClass('large-margin-bottom')
                }
              }

              updateClock();
              var timeinterval = setInterval(updateClock, 1000);
        })
    }

    
    
    var showResultsPromise = new Promise(function(resolve, reject) {
        resetOrder()
        showResults()
        showTariffs()
        resolve()
    })
    
    var urlParams = new URLSearchParams(window.location.search);
    var importObject = undefined;
    if(urlParams.has("l")){
        importObject = JSON.parse(decodeURIComponent(escape(atob(urlParams.get('l')))));
    }
    console.log("ImportObject = ",importObject)
    
    const importedObject = typeof importObject !== 'undefined'
    
    if (importedObject) {
        let importType = importObject["type"],
            importSounds = importObject["sounds"],
            importTariff = importObject["tariff"],
            importDate = importObject["date"],
            importBilingual = importObject["bilingual"],
            importPromoCode = importObject["promocode"].code,
            importPromoIsActive = importObject["promocode"].isActive
        
        console.log(importBilingual)
        
        if (importPromoIsActive && importPromoCode != null) {
            setPromocode(importPromoCode)
        }
        
        
        $('#js-alphabet-list input').filter(':checked').each(function() {
          $(this).prop('checked', false)
        });
        
        for (let sound of importSounds) {
            $('#js-alphabet-list input[value='+sound+']').prop('checked', true)
        }
        
        if (importBilingual) {
            $('.js-bilingual-on').prop('checked', true)
        } else {
            $('.js-bilingual-on').prop('checked', false)
        }
        
        if (importType == 'automation') {
            $('.js-automation-on').prop('checked', true)
        } else {
            $('.js-automation-on').prop('checked', false)
        }
        
        orderObject.type = importType
        orderObject.bilingual = importBilingual
        
        showResultsPromise.then(result => {
            $('#js-tariffs-list input[value='+importTariff+']').prop('checked', true)
            $('#js-tariffs-list input').trigger('change')
            orderObject.tariff = importTariff
            
//            const date = new Date(importDate)
//            const currentDateISO = new Date().toISOString().slice(0, 10)
//            const importDateISO = date.toISOString().slice(0, 10)
//        
//            if (importDateISO == currentDateISO) {
//                orderObject.bonusLessons = 10
//                $('.tariffs-list-item.item2').append(`
//                    <div class="tariffs-list-item-tag bottom-tag">
//                        <span>
//                            +10 бесплатных занятий ещё
//                        </span>
//                        <div class="timer">
//                            <span class="hours"></span>:
//                            <span class="minutes"></span>:
//                            <span class="seconds"></span>
//                        </div>
//                    </div>
//                `)
//                $('.js-order-header').append(` <span class="js-bonus-text"><mark>+10 бесплатно</mark> <b>при оплате в течение <span class="timer">
//                            <span class="hours"></span>:
//                            <span class="minutes"></span>:
//                            <span class="seconds"></span>
//                        </span></span>`)
//                $('.tariffs-list-item.item2').addClass('large-margin-bottom')
//                
//                var nextDay = new Date(date)
//                nextDay.setDate(date.getDate() + 1)
//                nextDay.setHours(0, 0, 0)
//                initializeClock('timer', nextDay)
//            }
            
        })
        //showResults()
        
        $('#js-alphabet-list input').each(function(){
            $(this).prop('disabled', true)
        })
        
        $('.js-automation-on').prop('disabled', true)
        $('.js-bilingual-on').prop('disabled', true)
        $('.url-block').hide()
        
        $('.alphabet-list-item').addClass('disabled')
        $('.checkbox-cointainer').addClass('disabled')
    }
    
    
    $('#js-alphabet-list input').on('change', function(){
        if (importedObject) {
            return
        }
        resetOrder()
        showResults()
    })
    
    $('.js-automation-on').on('change', function(){
        if (importedObject) {
            return
        }
        
        if($(this).is(':checked')){
            orderObject.type = 'automation'
        } else {
            orderObject.type = 'staging'
        }
        
        resetOrder()
        showResults()
        updateButton()
    })
    
    $('.js-bilingual-on').on('change', function(){
        if (importedObject) {
            return
        }
        
        if($(this).is(':checked')){
            orderObject.bilingual = true
        } else {
            orderObject.bilingual = false
        }
        
        resetOrder()
        showResults()
        updateButton()
    })
    
    function resetOrder() {
        orderObject.min = 0
        orderObject.middle = 0
        orderObject.max = 0
        //orderObject.tariff = 0
    }
    
    function showResults() {
        
        let checkedLength = $('#js-alphabet-list input:checked').length
        
        
        if (checkedLength) {
            $('.main-toggle').fadeIn(200)
        } else {
            $('.main-toggle').fadeOut(200)
            return
        }
        
        
        //getMinimumTariffByCount(12)
        
        $('#js-alphabet-list input:checked').each(function(){
            let value = $(this).val()
            
            console.log('value', value)
            
            if (orderObject.type == 'automation') {
                let min = soundsAutomationArray[value].min,
                    middle = soundsAutomationArray[value].middle,
                    max = soundsAutomationArray[value].max
                
                orderObject.min += min
                orderObject.middle += middle
                orderObject.max += max
            }
            
            if (orderObject.type == 'staging') {
                let min = soundsStagingArray[value].min,
                    middle = soundsStagingArray[value].middle,
                    max = soundsStagingArray[value].max
                
                orderObject.min += min
                orderObject.middle += middle
                orderObject.max += max
            }
        })
        
        console.log(orderObject)
        
        
        const minTariff = getTariffByCount(orderObject.min)
        const middleTariff = getTariffByCount(orderObject.middle)
        const maxTariff = getTariffByCount(orderObject.max)
        
        console.log('minTariff', minTariff)
        console.log('middleTariff', middleTariff)
        console.log('maxTariff', maxTariff)
        
        showTariffs()
        
        setTooltips(orderObject.min, orderObject.middle, maxTariff)
    }
    
    
    function getTariffByCount(count) {
        let keys = Object.keys(pricesArray).map(x=>+x)
        
        for (let key of keys) {
            if (key >= count) {
                return key
            }
        }
        
        return keys[keys.length - 1]
    }

    
    function showTariffs() {
        //let checkedTariff = $('#js-tariffs-list input:checked').index()
        
        let min = getTariffByCount(orderObject.min)
        let middle = getTariffByCount(orderObject.middle)
        let max = getTariffByCount(orderObject.max)
        let bonusLessons = 0
        
        let minCost = pricesArray[min].cost
        if (orderObject.bilingual) {
            minCost = pricesArray[min].bilingual
        }
        
        let minOldCost = pricesArray[min].oldCost
        let minProfit = minOldCost - minCost
        
        let middleCost = pricesArray[middle].cost
        if (orderObject.bilingual) {
            middleCost = pricesArray[middle].bilingual
        }
        
        let middleOldCost = pricesArray[middle].oldCost
        let middleProfit = middleOldCost - middleCost
        
        let maxCost = pricesArray[max].cost
        if (orderObject.bilingual) {
            maxCost = pricesArray[max].bilingual
        }
        
        let maxOldCost = pricesArray[max].oldCost
        let maxProfit = maxOldCost - maxCost
        
        if (orderObject.promocode.isActive) {
            switch (orderObject.promocode.type) {
                case 'fix':
                    minCost -= orderObject.promocode.value
                    middleCost -= orderObject.promocode.value
                    maxCost -= orderObject.promocode.value
                    
                    minProfit += orderObject.promocode.value
                    middleProfit += orderObject.promocode.value
                    maxProfit += orderObject.promocode.value
                    break
                case 'percent':
                    let minDiscountValue = minCost * (orderObject.promocode.value / 100)
                    let middleDiscountValue = middleCost * (orderObject.promocode.value / 100)
                    let maxDiscountValue = maxCost * (orderObject.promocode.value / 100)
                    
                    minCost -= minDiscountValue
                    middleCost -= middleDiscountValue
                    maxCost -= maxDiscountValue
                    
                    minProfit += minDiscountValue
                    middleProfit += middleDiscountValue
                    maxProfit += maxDiscountValue
                    break
                case 'lesson':
                    bonusLessons = orderObject.promocode.value
                    
                    let newMin = bonusLessons + min
                    let newMiddle = bonusLessons + middle
                    let newMax = bonusLessons + max
                    
                    let minLessonCost = minCost / newMin
                    if (minOldCost > 0) {
                        minLessonCost = minOldCost / newMin
                    }
                    minProfit += Math.trunc(minLessonCost * orderObject.promocode.value)
                    
                    let middleLessonCost = middleCost / newMiddle
                    if (middleOldCost > 0) {
                        middleLessonCost = middleOldCost / newMiddle
                    }
                    middleProfit += Math.trunc(middleLessonCost * orderObject.promocode.value)
                    
                    let maxLessonCost = maxCost / newMax
                    if (maxOldCost > 0) {
                        maxLessonCost = maxOldCost / newMax
                    }
                    maxProfit += Math.trunc(maxLessonCost * orderObject.promocode.value)
                    
                    break
            }
            
            if (minCost <= 0) {
                minCost = 1
                orderObject.totalPrice = 1
            }

            if (middleCost <= 0) {
                middleCost = 1
                orderObject.totalPrice = 1
            }

            if (maxCost <= 0) {
                maxCost = 1
                orderObject.totalPrice = 1
            }
        }
        
        $('#js-tariffs-list').html(`
            <input type="radio" id="checkbox-tariff-1" name="tariffs-radio" value="${min}">
            <label for="checkbox-tariff-1" class="tariffs-list-item item1">
               <div class="tariffs-list-item-label"><span>Выбран</span></div>
               <div class="tariffs-list-item-count">${min + bonusLessons} ${getLessonWordByCount(min)}</div>
               <div class="tariffs-list-item-price">
                   <span class="cost">${minCost} ₽</span>
               </div>
               <div class="tariffs-list-item-credit">В рассрочку от ${Math.trunc(minCost / creditPeriod)} ₽ в месяц</div>
            </label>

            <input type="radio" id="checkbox-tariff-2" name="tariffs-radio" value="${middle}">
            <label for="checkbox-tariff-2" class="tariffs-list-item item2 hit">
               <div class="tariffs-list-item-tag top-tag"><span>Рекомендуем</span></div>
               <div class="tariffs-list-item-label"><span>Выбран</span></div>
               <div class="tariffs-list-item-count">${middle + bonusLessons} ${getLessonWordByCount(middle)}</div>
               <div class="tariffs-list-item-price">
                   <span class="cost">${middleCost} ₽</span>
               </div>
               <div class="tariffs-list-item-credit">В рассрочку от ${Math.trunc(middleCost / creditPeriod)} ₽ в месяц</div>
            </label>

            <input type="radio" id="checkbox-tariff-3" name="tariffs-radio" value="${max}">
            <label for="checkbox-tariff-3" class="tariffs-list-item item3">
               <div class="tariffs-list-item-label"><span>Выбран</span></div>
               <div class="tariffs-list-item-count">${max + bonusLessons} ${getLessonWordByCount(max)}</div>
               <div class="tariffs-list-item-price">
                   <span class="cost">${maxCost} ₽</span>
               </div>
               <div class="tariffs-list-item-credit">В рассрочку от ${Math.trunc(maxCost / creditPeriod)} ₽ в месяц</div>
            </label>
        `)
        
//        console.log(checkedTariff)
//        if (checkedTariff > -1) {
//            $('#js-tariffs-list input').eq(checkedTariff).prop('checked', true)
//            $('#js-tariffs-list input').eq(checkedTariff).trigger('change')
//        } else {
//            $('#checkbox-tariff-2').prop('checked', true)
//            $('#checkbox-tariff-2').trigger('change')
//            orderObject.tariff = +$('#checkbox-tariff-2').val()
//        }
            $('#checkbox-tariff-2').prop('checked', true)
            $('#checkbox-tariff-2').trigger('change')
            orderObject.tariff = +$('#checkbox-tariff-2').val()
        
        
        if (minOldCost > 0) {
            $('.tariffs-list-item.item1 .tariffs-list-item-price').prepend(`
                <span class="cost old-cost">${minOldCost} ₽</span>
            `)
            $('.tariffs-list-item.item1').append(`
                <div class="tariffs-list-item-discount">Выгода ${minProfit} ₽</div>
            `)
        }
        
        if (middleOldCost > 0) {
            $('.tariffs-list-item.item2 .tariffs-list-item-price').prepend(`
                <span class="cost old-cost">${middleOldCost} ₽</span>
            `)
            $('.tariffs-list-item.item2').append(`
                <div class="tariffs-list-item-discount">Выгода ${middleProfit} ₽</div>
            `)
        }
        
        if (maxOldCost > 0) {
            $('.tariffs-list-item.item3 .tariffs-list-item-price').prepend(`
                <span class="cost old-cost">${maxOldCost} ₽</span>
            `)
            $('.tariffs-list-item.item3').append(`
                <div class="tariffs-list-item-discount">Выгода ${maxProfit} ₽</div>
            `)
        }
    }
    
    $('.tariffs-list').on('change', 'input[name=tariffs-radio]', function(){
        let tariff = +$(this).val()
        orderObject.tariff = tariff
        console.log(orderObject)
        updateButton()
        
        if (importedObject) {
            $('.tariffs-list-item-tag.bottom-tag').remove()
            $('#js-tariffs-list label').removeClass('large-margin-bottom')
            
            const date = new Date(importObject["date"])
            const currentDateISO = new Date().toISOString().slice(0, 10)
            const importDateISO = date.toISOString().slice(0, 10)
        
            if (importDateISO == currentDateISO) {
                orderObject.bonusLessons = 10
                $('#js-tariffs-list input:checked').next().append(`
                    <div class="tariffs-list-item-tag bottom-tag">
                        <span>
                            +10 бесплатных занятий ещё
                        </span>
                        <div class="timer">
                            <span class="hours"></span>:
                            <span class="minutes"></span>:
                            <span class="seconds"></span>
                        </div>
                    </div>
                `)
                $('#js-tariffs-list input:checked').next().addClass('large-margin-bottom')
                
                var nextDay = new Date(date)
                nextDay.setDate(date.getDate() + 1)
                nextDay.setHours(0, 0, 0)
                initializeClock('timer', nextDay)
            }
        }
    })
    
    function updateButton() {
        
        let tariff = orderObject.tariff
        console.log(pricesArray[tariff].cost)
        orderObject.totalPrice = pricesArray[tariff].cost
        orderObject.profit = 0
        let profit = 0
        
        if (pricesArray[tariff].oldCost > 0) {
            profit = pricesArray[tariff].oldCost - pricesArray[tariff].cost
            if (orderObject.bilingual) {
                profit = pricesArray[tariff].oldCost - pricesArray[tariff].bilingual
                orderObject.totalPrice = pricesArray[tariff].bilingual
            }
            orderObject.profit = profit
            
//            if (orderObject.promocode.isActive) {
//                switch (orderObject.promocode.type) {
//                    case 'fix':
//                        profit += orderObject.promocode.value
//                        orderObject.promocode.profit = orderObject.promocode.value
//                        orderObject.totalPrice -= orderObject.promocode.value
//                        break
//                    case 'percent':
//                        profit += pricesArray[tariff].cost * (orderObject.promocode.value / 100)
//                        orderObject.promocode.profit = pricesArray[tariff].cost * (orderObject.promocode.value / 100)
//                        orderObject.totalPrice -= pricesArray[tariff].cost * (orderObject.promocode.value / 100)
//                        break
//                    case 'lesson':
//                        let lessonCost = pricesArray[tariff].oldCost / (tariff + orderObject.promocode.value)
//                        profit += Math.trunc(lessonCost * orderObject.promocode.value)
//                        orderObject.promocode.profit = Math.trunc(lessonCost * orderObject.promocode.value)
//                        break
//                }
//            }
//            $('.js-pay-btn span').text(`Оплатить с выгодой ${profit} ₽`)
            //return
        }
        
        if (orderObject.bilingual) {
            orderObject.totalPrice = pricesArray[tariff].bilingual
            // тут применить промокод
        }
        
        if (orderObject.promocode.isActive) {
            switch (orderObject.promocode.type) {
                case 'fix':
                    profit += orderObject.promocode.value
                    orderObject.promocode.profit = orderObject.promocode.value
                    orderObject.totalPrice -= orderObject.promocode.value
                    break
                case 'percent':
                    profit += pricesArray[tariff].cost * (orderObject.promocode.value / 100)
                    orderObject.promocode.profit = pricesArray[tariff].cost * (orderObject.promocode.value / 100)
                    orderObject.totalPrice -= pricesArray[tariff].cost * (orderObject.promocode.value / 100)
                    break
                case 'lesson':
                    let lessonCost = pricesArray[tariff].oldCost / (tariff + orderObject.promocode.value)
                    profit += Math.trunc(lessonCost * orderObject.promocode.value)
                    orderObject.promocode.profit = Math.trunc(lessonCost * orderObject.promocode.value)
                    break
            }
            
            if (orderObject.totalPrice <= 0) {
                orderObject.totalPrice = 1
            }
        }
        
        if (orderObject.profit + orderObject.promocode.profit > 0) {
            $('.js-pay-btn span').text(`Оплатить с выгодой ${profit} ₽`)
        } else {
            $('.js-pay-btn span').text(`Оплатить`)
        }
        
        
        
        console.log(orderObject)
    }
    
    function getLessonWordByCount(count) {
        if (((count - 11) % 10 == 0) && (count != 11)) {
            return "занятие"
        } else if (((count - 12) % 10 == 0 && count != 12 && count != 112) || ((count - 13) % 10 == 0 && count != 13 && count != 113) || ((count - 14) % 10 == 0 && count != 14 && count != 114)) {
            return "занятия"
        } else {
            return "занятий"
        }
    }
    
    function setTooltips(minValue, middleValue, maxValue) {
        $('#js-dots-list').html('')
        
        for (let i = 0; i < maxValue; i++) {
            $('#js-dots-list').append(`
                <div class="scale-list-item">
                   <div class="scale-list-item-dot"></div>
                </div>
            `)
        }
        
        
        $('.js-min-lessons').text(minValue + ' ' + getLessonWordByCount(minValue))
        $('.js-middle-lessons').text(middleValue + ' ' + getLessonWordByCount(middleValue))
        $('.js-max-lessons').text(maxValue + ' ' + getLessonWordByCount(maxValue))
        $('.js-max-lessons-mobile').text(maxValue)
        
        let activeMiddleDot = $('#js-dots-list .scale-list-item').eq(middleValue - 1),
            activeMiddleDotPositionLeft = $('#js-dots-list .scale-list-item').eq(middleValue - 1).position().left,
            dotWidth = $('#js-dots-list .scale-list-item').width(),
            currentTootltipWidth = $('.main-scale-tooltip.current').innerWidth(),
            minTootltipWidth = $('.main-scale-tooltip.min').innerWidth()
        
        if (currentTootltipWidth / 2 + activeMiddleDotPositionLeft > $('#js-dots-list').width()) {
            $('.main-scale-tooltip.current').css({
                'left': $('#js-dots-list').width() - currentTootltipWidth + 'px',
                'transform': 'none'
            })
            $('.main-scale-tooltip.current').addClass('rightAlight')
        }  else {
            $('.main-scale-tooltip.current').css({
                'left': activeMiddleDotPositionLeft + 'px',
                'transform': 'translateX(-' +( currentTootltipWidth / 2 - dotWidth / 2) + 'px)'
            })
            $('.main-scale-tooltip.current').removeClass('rightAlight')
        }
        
            
        activeMiddleDot.addClass('active').prevAll().addClass('active')
        
        let activeMinDot = $('#js-dots-list .scale-list-item').eq(minValue - 1),
            activeMinDotPositionLeft = $('#js-dots-list .scale-list-item').eq(minValue - 1).position().left
        
        
        if (activeMinDotPositionLeft <= minTootltipWidth) {
            $('.main-scale-tooltip.min').css({
                'left': '0',
                'transform': 'none'
            })
            $('.main-scale-tooltip.min').addClass('leftAlight')
        }  else {
            $('.main-scale-tooltip.min').css({
                'left': activeMinDotPositionLeft + 'px',
                'transform': 'translateX(-' +( minTootltipWidth / 2 - dotWidth / 2) + 'px)'
            })
            $('.main-scale-tooltip.min').removeClass('leftAlight')
        }
    }
    
    showResults()
    
    $(window).on('resize',function() {
        setTooltips(orderObject.min, orderObject.middle, getTariffByCount(orderObject.max))
    });
    
    $(window).trigger('resize');
    
    
    function getRandomCode(length = 16) {
        let chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        let res = '';
        
        for (let i = 0; i < length; i++) {
            res += chars[Math.floor(Math.random() * chars.length)];
        }
        
        return res;
    }
    
    
    
    $('#js-copy-url-btn').on('click', function(e){
        e.preventDefault()
        
        let date = new Date().toJSON()
        console.log(date)
        
        let thisBtn = $(this)
        let id = getRandomCode()
        
        
        $box = $('#js-alphabet-list input'); //класс чекбокса
        var sounds = [];
        
        $box.filter(':checked').each(function() {
          sounds.push(this.value);
        });
        
        let exportObject = {
            'sounds': sounds,
            'type': orderObject.type,
            'bilingual': orderObject.bilingual,
            'tariff': orderObject.tariff,
            'date': date,
            'promocode': {
                'isActive': orderObject.promocode.isActive,
                'code': orderObject.promocode.code
            }
        }
        
        let stringExportObject = JSON.stringify(exportObject)
        
        console.log(stringExportObject)
        
        let data = {
            'link': id,
            'object': exportObject
        }
        
        copyLink(encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(exportObject))))))
    })
    
    function copyLink(id) {
        let url = window.location.href + '?l=' + id
        
        navigator.clipboard.writeText(url).then(function() {
            $('#js-copy-url-btn').next().fadeIn(100).css('display', 'flex')
            
            setTimeout(function(){
                $('#js-copy-url-tooltip').fadeOut(100)
            }, 1000)
        }, function(err) {
            console.error('Произошла ошибка при копировании ссылки: ', err);
        });
    }
    
    function setPromocode(code) {
        if (orderObject.promocode.isActive) {
            return
        }
        
        let data = {
            'promocode': code
        }
        
        $.ajax({
            type: "POST",
            url: '/promocode.php',
            data: data,
            success: function (data) {
                if (data.promocodeExists) {
                    console.log(data)
                    //console.log(promoArray[code])
            
                    //let promoObject = promoArray[code]

                    orderObject.promocode.isActive = true
                    orderObject.promocode.type = data.type
                    orderObject.promocode.value = +data.value
                    orderObject.promocode.code = data.code

                    showTariffs()
                    updateButton()

                    $('.promocode-block').empty()
                    $('.promocode-block').html('<div class="promocode-success"><span>Промокод активирован</span></div>')
                } else {
                    if (!$('.js-promocode-form').hasClass('error') && !$('.js-promocode-form .error-text').length) {
                        $('.js-promocode-form').addClass('error')
                        $('.js-promocode-form').append('<span class="error-text">Промокод недействителен</span>')
                        $('.promocode-submit').prop('disabled', true)
                    }
                }
            },
            error: function (xhr, str) {
                alert("Что-то пошло не так, обратитесь к администратору");
            }
        });
        
//        if (promoArray[code] !== undefined) {
//            console.log(promoArray[code])
//            
//            let promoObject = promoArray[code]
//            
//            orderObject.promocode.isActive = true
//            orderObject.promocode.type = promoObject.type
//            orderObject.promocode.value = promoObject.value
//            orderObject.promocode.code = code
//            
//            showTariffs()
//            updateButton()
//            
//            
//            $('.promocode-block').empty()
//            $('.promocode-block').html('<div class="promocode-success"><span>Промокод активирован</span></div>')
//            
//        } else {
//            if (!$('.js-promocode-form').hasClass('error') && !$('.js-promocode-form .error-text').length) {
//                $('.js-promocode-form').addClass('error')
//                $('.js-promocode-form').append('<span class="error-text">Промокод недействителен</span>')
//                $('.promocode-submit').prop('disabled', true)
//            }
//        }
    }
    
    $('.js-promocode-form').on('submit', function(e){
        e.preventDefault()
        
        let value = $('.promocode-input').val()
        
        setPromocode(value)
    })
    
    $('.promocode-input').on('input', function(){
        $('.js-promocode-form').removeClass('error')
        $('.js-promocode-form .error-text').remove()
        $('.promocode-submit').prop('disabled', false)
    })
    
//    $('.js-open-pay-modal').on('click', function(e){
//        e.preventDefault()
//        
//        let tariff = orderObject.tariff
//        let installmentsArray = pricesArray[tariff].installments
//        
//        if ($(this).hasClass('js-test-order')) {
//            tariff = 10
//            $('.js-total-lessons-count').text(tariff + ' ' + getLessonWordByCount(tariff))
//            $('.js-total-price').text(pricesArray[tariff].cost)
//            
//            if (orderObject.promocode.isActive) {
//                $('.order-info-section-row.promocode-profit-row').show()
//                $('.order-info-section-row.promocode-row').show()
//                $('.js-promocode-code').text(orderObject.promocode.code)
//                $('.js-promocode-profit').text(orderObject.promocode.profit)
//            } else {
//                $('.order-info-section-row.promocode-profit-row').hide()
//                $('.order-info-section-row.promocode-row').hide()
//                $('.js-promocode-code').empty()
//                $('.js-promocode-profit').empty()
//            }
//             $('#js-pay-section').fadeIn(200).css('display', 'flex')
//            return
//        }
//        
//        $('#js-pay-section').fadeIn(200).css('display', 'flex')
//        //$('.js-total-price').text()
//        
//        
//        
//        if (installmentsArray != null && installmentsArray.length > 1) {
//            $('input#credit-pay-1').next().children('.checkbox-options-label-subtitle').text(installmentsArray[0] + ' ' + getLessonWordByCount(installmentsArray[0]))
//            $('input#credit-pay-2').next().children('.checkbox-options-label-subtitle').text(installmentsArray[1] + ' ' + getLessonWordByCount(installmentsArray[0]))
//        } else {
//            $('.pay-options-list-item-radio').hide()
//        }
//        
//        if (pricesArray[tariff].oldCost > 0) {
//            $('.js-total-price').text(pricesArray[tariff].oldCost)
//        } else {
//            $('.js-total-price').text(orderObject.totalPrice)
//        }
//        
//        if (orderObject.promocode.isActive) {
//            $('.order-info-section-row.promocode-profit-row').show()
//            $('.order-info-section-row.promocode-row').show()
//            $('.js-promocode-code').text(orderObject.promocode.code)
//            $('.js-promocode-profit').text(orderObject.promocode.profit)
//        } else {
//            $('.order-info-section-row.promocode-profit-row').hide()
//            $('.order-info-section-row.promocode-row').hide()
//            $('.js-promocode-code').empty()
//            $('.js-promocode-profit').empty()
//        }
//        
//        if (orderObject.profit > 0) {
//            $('.order-info-section-row.profit-row').show()
//            $('.js-default-profit').text(orderObject.profit)
//        } else {
//            $('.order-info-section-row.profit-row').hide()
//            $('.js-default-profit').empty()
//        }
//        
//        if (orderObject.promocode.profit + orderObject.profit > 0) {
//            $('.order-info-section-row.total-profit').show()
//            $('.js-total-profit').text(orderObject.promocode.profit + orderObject.profit)
//        } else {
//            $('.order-info-section-row.total-profit').hide()
//            $('.js-total-profit').empty()
//        }
//        
//        
//        $('.js-total-lessons-count').text(orderObject.tariff + ' ' + getLessonWordByCount(orderObject.tariff))
//    })
//    
//    $('.js-close-modal').on('click', function(e){
//        e.preventDefault()
//        $('#js-pay-section').fadeOut(200)
//    })
    
    let formSubmited = false
    
    $('.js-pay-form').on('submit', function(e){
        let form = $(this)
        
        if (!formSubmited) {
            e.preventDefault()
            formSubmited = true
            
            let bonusTime = '',
                isPromocodeActivate = 0
            
            let postObject = {
                'lessons': orderObject.tariff,
                'lessonsWord': getLessonWordByCount(orderObject.tariff),
                'bosunLessons': orderObject.bonusLessons,
                'orderCost': pricesArray[orderObject.tariff].cost,
                'defaultProfit': orderObject.profit,
                'promocodeProfit': orderObject.promocode.profit,
                'isPromocodeActivate': orderObject.promocode.isActive,
                'promocodeCode': orderObject.promocode.code,
                'startPrice': pricesArray[orderObject.tariff].cost,
                'totalPrice': orderObject.totalPrice,
                'totalProfit': orderObject.profit + orderObject.promocode.profit,
                'bosunTime': bonusTime
            }
            
            if (orderObject.bilingual) {
                postObject.startPrice = pricesArray[orderObject.tariff].bilingual
            }
            
            if (pricesArray[orderObject.tariff].oldCost > 0) {
                postObject.startPrice = pricesArray[orderObject.tariff].oldCost
            }
            
            
            if (importedObject) {
                postObject.bonusTime = importObject.date
            }
            
//            if (orderObject.promocode.isActive) {
//                postObject.isPromocodeActivate = 1
//            }
            
//            console.log(postObject)
//            return
            
            if (form.hasClass('test-tariff')) {
                postObject.lessons = 10
                postObject.lessonsWord = getLessonWordByCount(10)
                postObject.orderCost = pricesArray['10'].cost
                postObject.defaultProfit = 0
                postObject.startPrice = pricesArray['10'].cost
                
                if (orderObject.bilingual) {
                    postObject.startPrice = pricesArray['10'].bilingual
                    postObject.defaultProfit = pricesArray['10'].bilingual - pricesArray['10'].cost
                    postObject.totalProfit = pricesArray['10'].bilingual - pricesArray['10'].cost
                }
                
                if (pricesArray['10'].oldCost > 0) {
                    postObject.startPrice = pricesArray['10'].oldCost
                    postObject.defaultProfit = pricesArray['10'].oldCost - pricesArray['10'].cost
                    postObject.totalProfit = pricesArray['10'].oldCost - pricesArray['10'].cost
                }
                if (orderObject.promocode.isActive) {
                    postObject.totalProfit += orderObject.promocode.profit
                    postObject.orderCost -= orderObject.promocode.profit
                }
                console.log(postObject)
            }
            
            let objectString = JSON.stringify(postObject)
            $('.js-input-data').val(objectString)
            
            $(this).submit()
            formSubmited = false
            
        }
        
    })
});
</script>
